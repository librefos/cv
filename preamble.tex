%--- The MIT License (MIT) ---------------------------------------------
%
% Copyright (c) 2019 Jan Küster
% Copyright (c) 2026 Thiago C Silva
%
% Permission is hereby granted, free of charge, to any person obtaining
% a copy of this software and associated documentation files (the
% "Software"), to deal in the Software without restriction, including
% without limitation the rights to use, copy, modify, merge, publish,
% distribute, sublicense, and/or sell copies of the Software, and to
% permit persons to whom the Software is furnished to do so, subject to
% the following conditions:
%
% The above copyright notice and this permission notice shall be
% included in all copies or substantial portions of the Software.
%
% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
% EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
% MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
% IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
% CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
% TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
% SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
%
%--------------------------------------------- The MIT License (MIT) ---
%--- Packages & Configuration ------------------------------------------

% Paper size and page margins
\usepackage[a4paper]{geometry}

% Customization of headers and footers
\usepackage{fancyhdr}

% Parallel column layouts
\usepackage{paracol}

% Tools for table column formatting
\usepackage{array}

% Improves text justification in narrow columns
\usepackage{microtype}

% Correct hyphenation of accented words
\usepackage[T1]{fontenc}

% Correct hyphenation for Portuguese
\usepackage[portuguese]{babel}

% Document main font to 'Raleway'
\usepackage[default]{raleway}

% Icon sets
\usepackage{fontawesome5}

% Extra font sizes
\usepackage{moresize}

% Provides \ifstrempty
\usepackage{etoolbox}

% Arithmetic in length commands
\usepackage{calc}

% Inclusion of external images
\usepackage{graphicx}

% Color management support
\usepackage{xcolor}

% Drawing the skill bars
\usepackage{tikz}

% Transparency in elements
\usepackage{transparent}

% Handles hyperlinks; 'hidelinks' removes the colored box
\usepackage[hidelinks]{hyperref}

% Generates QR codes from text/URLs
\usepackage{qrcode}

% Load specific TikZ libraries
\usetikzlibrary{shapes, backgrounds, mindmap, trees}

%------------------------------------------ Packages & Configuration ---
%--- Layout & Column ---------------------------------------------------

% Restore original margins
\geometry{top=1cm, bottom=6cm, left=1cm, right=1cm}

% 31% left column, 69% right column
\columnratio{0.31}

% Define space between columns
\setlength{\columnsep}{2.2em}

% Define the vertical rule between columns
\setlength{\columnseprule}{4pt}

%--------------------------------------------------- Layout & Column ---
%--- Colors & Fonts ----------------------------------------------------

% Define custom colors used throughout the document
\definecolor{maincol}{RGB}{25, 39, 209}
\definecolor{darkcol}{RGB}{43, 49, 108}
\definecolor{lightcol}{RGB}{245, 245, 245}

% Set the color of the column separator rule
\colseprulecolor{lightcol}

% Set the default font family to sans-serif
\renewcommand*\familydefault{\sfdefault}

% Remove the header and footer decorative lines
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

%---------------------------------------------------- Colors & Fonts ---
%--- New Commands ------------------------------------------------------

% Usage: \linkedin{username}
\newcommand*{\linkedin}[1]{https://linkedin.com/in/#1}

% Usage: \github{username}
\newcommand*{\github}[1]{https://github.com/#1}

% Usage: \vcenteredhbox{box}
\newcommand*{\vcenteredhbox}[1]{%
  \begingroup
    \sbox{0}{#1}%
    \parbox{\wd0}{\usebox{0}}%
  \endgroup
}

% Usage: \iconlayout{icon_name}{size}{color}{content_to_render}
\newcommand*{\iconlayout}[4]{%
  \vcenteredhbox{\icon{#1}{#2}{#3}}%
  \hspace{2pt}%
  \parbox{0.9\mpwidth}{#4}
}

% Usage: \icon{icon_name}{size}{color}
\newcommand*{\icon}[3]{%
  \makebox[#2pt][c]{\textcolor{#3}{\faIcon{#1}}}%
}

% Usage: \icontext{icon}{size}{text}{color}
\newcommand*{\icontext}[4]{%
  \iconlayout{#1}{#2}{#4}{%
    \textcolor{#4}{#3}%
  }%
}

% Usage: \iconhref{icon}{size}{text}{url}{color}
\newcommand*{\iconhref}[5]{%
  \iconlayout{#1}{#2}{#5}{%
    \href{#4}{\textcolor{#5}{#3}}%
  }%
}

% Usage: \iconemail{icon_name}{size}{email_address}{color}
\newcommand*{\iconemail}[4]{%
  \iconlayout{#1}{#2}{#4}{%
    \href{mailto:#3}{\textcolor{#4}{#3}}%
  }%
}

% Define the width for boxes: Line width minus the frame padding (x2)
\newcommand{\mpwidth}{\linewidth-2\fboxsep}

% Usage: \cvtext{content}
\newcommand{\cvtext}[1]{%
  \parbox{\mpwidth}{%
    #1%
  }%
}

% Usage: \cvlist{ \item ... }
\newcommand{\cvlist}[1]{%
  \begin{itemize}%
    #1%
  \end{itemize}%
}

% Usage: \cvsection{Title}
\newcommand{\cvsection}[1]{%
  \vspace{14pt}%
  \cvtext{%
    \textbf{\LARGE{\textcolor{darkcol}{\uppercase{#1}}}}\\[-4pt]%
    \textcolor{darkcol}{\rule{0.1\textwidth}{2pt}}%
  }%
  \vspace{14pt}%
}

% Usage: \cvmetaevent{Date}{Title}{Institution}{Description}
\newcommand{\cvmetaevent}[4]{%
  \cvtext{\textbf{#1}}\\[4pt]%
  \ifstrempty{#2}{}{%
    \cvtext{\textbf{\textcolor{darkcol}{#2}}}\\[4pt]%
  }%
  \ifstrempty{#3}{}{%
    \cvtext{\textcolor{darkcol}{#3}}\\[6pt]%
  }%
  \cvtext{#4}\\[8pt]%
}

% Usage: \cvskill{Skill Name}{Experience Level}{Percentage}
\newcommand{\cvskill}[3]{%
  \begin{tabular*}{\mpwidth}{@{}p{0.75\mpwidth}@{\extracolsep{\fill}}r@{}}
    \textcolor{black}{\textbf{#1}} & \textcolor{darkcol}{#2}%
  \end{tabular*}%
  \\[2pt]%
  \begin{tikzpicture}[scale=1,rounded corners=2pt,very thin]
    \fill [lightcol] (0,0) rectangle (\linewidth, 0.15);
    \fill [darkcol] (0,0) rectangle (#3\linewidth, 0.15);
  \end{tikzpicture}%
  \vspace{4pt}%
}

% Usage: \cvevent{Date}{Job Title}{Company}{Description}{Skills_List}
\newcommand{\cvevent}[5]{%
  \begin{minipage}{\mpwidth}
    \begin{tabular*}{\mpwidth}{@{}p{0.7\mpwidth}@{\extracolsep{\fill}}r@{}}
      \textcolor{darkcol}{\textbf{#2}} &
      \colorbox{black}{%
        \makebox[0.25\mpwidth][c]{\textcolor{white}{\textbf{#1}}}%
      }%
    \end{tabular*}%
    \\[2pt]%
    \textcolor{black}{\textbf{#3}}\\[6pt]%
    \ifstrempty{#4}{}{%
      \cvtext{#4}\\
    }%
  \end{minipage}%

  \ifstrempty{#5}{}{%
    \vspace{6pt}%
    \cvtext{\textbf{Principais Competências:}}%
    {#5}%
  }%
  \vspace{12pt}%
}

%------------------------------------------------------ New Commands ---
